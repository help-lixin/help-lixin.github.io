I"º<h3 id="1fluxç±»å…³ç³»å›¾">(1).Fluxç±»å…³ç³»å›¾</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// æ³¨æ„è¯¥ç±»æ˜¯æŠ½è±¡ç±»
public abstract class Flux&lt;T&gt; 
               // å®ç°äº†reactor.core.CorePublisher
               // CorePublisheræ˜¯Publisherçš„å¢åŠ 
               implements CorePublisher&lt;T&gt; {
}

public interface CorePublisher&lt;T&gt; 
       // org.reactivestreams.Publisher
       extends Publisher&lt;T&gt; {
    
}

</code></pre></div></div>

<h3 id="2fluxjust12">(2).Flux.just(â€œ1â€,â€2â€)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static &lt;T&gt; Flux&lt;T&gt; just(T... data) {
    // ["1","2"]
    return fromArray(data);
}
</code></pre></div></div>
<h3 id="3fluxfromarray">(3).Flux.fromArray</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static &lt;T&gt; Flux&lt;T&gt; fromArray(T[] array) {
    // ["1","2"]
    if (array.length == 0) { // false
        return empty();
    }
    if (array.length == 1) { // false
        return just(array[0]);
    }
    
    // åˆ›å»ºFluxArrayåŒ…è£¹æ•°ç»„
    // è°ƒç”¨onAssembly
    return onAssembly(new FluxArray&lt;&gt;(array));
}
</code></pre></div></div>
<h3 id="4fluxarray">(4).FluxArray</h3>
<blockquote>
  <p>FluxArrayæ—¢æ˜¯Fluxçš„å­ç±»,è€Œä¸”è¿˜å®ç°äº†:Publisher</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>final class FluxArray&lt;T&gt; 
      // ç»§æ‰¿äº:reactor.core.publisher.Flux
      extends Flux&lt;T&gt; 
      // reactor.core.Fuseable
      implements Fuseable, 
      // reactor.core.publisher.SourceProducer
      SourceProducer&lt;T&gt; {
    
}

interface SourceProducer&lt;O&gt; 
     // reactor.core.Scannable
     extends Scannable, 
     // org.reactivestreams.Publisher
             Publisher&lt;O&gt; {
}
</code></pre></div></div>
<h3 id="5-fluxonassembly">(5). Flux.onAssembly</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// onAssembly åŒ…è£¹ç»“æœé›†,å¯ä»¥Hookså¯ä»¥TRACEæ•´ä¸ªè¿‡ç¨‹
protected static &lt;T&gt; Flux&lt;T&gt; onAssembly(Flux&lt;T&gt; source) {
    // source = FluxArray
    Function&lt;Publisher, Publisher&gt; hook = Hooks.onEachOperatorHook;
    if(hook != null) { // false
        source = (Flux&lt;T&gt;) hook.apply(source);
    }
    
    if (Hooks.GLOBAL_TRACE) {
            AssemblySnapshot stacktrace = new AssemblySnapshot(null, Traces.callSiteSupplierFactory.get());
            source = (Flux&lt;T&gt;) Hooks.addAssemblyInfo(source, stacktrace);
    }
    return source;
}
</code></pre></div></div>
<h3 id="6æ€»ç»“">(6).æ€»ç»“</h3>
<ol>
  <li>Flux.justä¼šæŠŠæ•°ç»„åŒ…è£¹æˆ:reactor.core.publisher.FluxArray</li>
  <li>è¿”å›:reactor.core.publisher.FluxArray,å› ä¸ºFluxArrayç»§æ‰¿äº:Fluxå¹¶å®ç°äº†:Publisher</li>
</ol>
:ET